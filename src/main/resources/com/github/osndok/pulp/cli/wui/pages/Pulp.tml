<!DOCTYPE html>
<html xmlns:t="http://tapestry.apache.org/schema/tapestry_5_4.xsd"
      xmlns:p="tapestry:parameter">
<head>
  <title>${topName}</title>
  <meta charset="utf-8"/>
</head>
<body style="margin:0;font-family:Arial,Helvetica,sans-serif;">

  <div style="display:flex;height:100vh;">

    <!-- Left thin navigation strip -->
    <nav style="width:${leftNavWidth};background:#f7f7f7;border-right:1px solid #ddd;box-sizing:border-box;display:flex;flex-direction:column;">
      <div style="padding:14px 12px;font-weight:700;font-size:16px;border-bottom:1px solid #eaeaea;background:#fafafa;">
        ${topName}
      </div>

      <div style="overflow:auto;flex:1;">
        <!--
          subCommands: List<String>
          The loop sets the page property `subCommand` for each iteration (via value="subCommand"),
          so getters on the page like getSubCommandBgColor() and getSubCommandLink() can compute values
          using the current subCommand value.
        -->
        <t:loop source="subCommands" value="subCommand">
          <div style="display:flex;align-items:center;padding:10px 12px;user-select:none;border-bottom:1px solid rgba(0,0,0,0.04);background: ${subCommandBgColor};">

            <!-- link computed on the server per-current subCommand; targets iframe -->
            <div style="flex:1;font-size:14px;">
              <a href="${subCommandLink}" target="${contentFrame}" style="text-decoration:none;color:#222;display:block;padding:4px 0;">
                ${subCommand}
              </a>
            </div>
          </div>
        </t:loop>
      </div>

      <div style="padding:10px 12px;font-size:12px;color:#666;border-top:1px solid #eee;">
        <!-- optional footer -->
      </div>
    </nav>

    <!-- Right content area -->
    <main style="flex:1;display:flex;flex-direction:column;background:#fff;">
      <div style="flex:1;min-height:0;">
        <iframe xid="contentFrame" name="${contentFrame}"
                style="width:100%;height:100%;border:0;display:block;"
                src="${initialIframeHelpLink}">
          Your browser does not support iframes.
        </iframe>
      </div>
    </main>

  </div>

</body>
</html>
